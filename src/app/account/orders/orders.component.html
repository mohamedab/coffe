<mat-form-field appearance="outline" class="w-100">
  <input matInput (keyup)="applyFilter($event)" placeholder="Filter properties" autocomplete="off">
</mat-form-field>
<div class="table-wrapper">
  <table mat-table [dataSource]="dataSource" matSort class="w-100">


    <ng-container matColumnDef="tableNumber">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> NÂ° Table</th>
      <td mat-cell *matCellDef="let order">{{order.tableNumber}}</td>
    </ng-container>

    <ng-container matColumnDef="status">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Statut</th>
      <td mat-cell *matCellDef="let order">
        <mat-icon class="pending-icon" *ngIf="order.status === Pending">update</mat-icon>
        <mat-icon class="confirmed-icon" *ngIf="order.status === Confirmed">expand_circle_down</mat-icon>
      </td>
    </ng-container>

    <ng-container matColumnDef="orderDate">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Date</th>
      <td mat-cell *matCellDef="let order"> {{order.orderDate | date:"dd/MM/yyyy HH:mm:ss"}} </td>
    </ng-container>

    <ng-container matColumnDef="updateDate">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Date confirmation</th>
      <td mat-cell *matCellDef="let order"> {{order.updateDate | date:"dd/MM/yyyy HH:mm:ss"}} </td>
    </ng-container>

    <ng-container matColumnDef="totalAmount">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Total</th>
      <td mat-cell
          *matCellDef="let order"> {{order.totalAmount | number: '1.2-2'}} {{order.totalAmount > 1 ? 'Dhs' : '' }} </td>
    </ng-container>

    <ng-container matColumnDef="actions">
      <th mat-header-cell *matHeaderCellDef> Actions</th>
      <td mat-cell *matCellDef="let order">
        <a [routerLink]="['/account/orders/edit', order.orderId]" mat-icon-button color="primary"
           matTooltip="Edit order">
          <mat-icon *ngIf="order.status === Pending">edit</mat-icon>
          <mat-icon *ngIf="order.status === Confirmed">visibility</mat-icon>
        </a>
        <button mat-icon-button color="warn"
                *ngIf="order.status === Pending"
                (click)="cancel(order)" matTooltip="Cancel order" class="remove">
          <mat-icon>delete</mat-icon>
        </button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let order; columns: displayedColumns;">
    </tr>
  </table>
  <p *ngIf="dataSource?.data?.length === 0" class="py-5 mb-0 text-center">No order available</p>
  <div fxLayout="row" fxLayoutAlign="center center" class="h-100">
    <mat-spinner color="primary" *ngIf="showSpinner"></mat-spinner>
  </div>
</div>
<mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" showFirstLastButtons></mat-paginator>
